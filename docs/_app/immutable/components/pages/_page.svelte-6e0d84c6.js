import{S as H,i as J,s as K,e as Y,b as L,B as S,h,I as le,k as w,l as b,m as P,n as m,J as Q,a as x,q as D,K as he,c as T,r as O,L as ue,G as f,M as te,N as se,O as V,u as ce,P as de,Q as pe,R as _e}from"../../chunks/index-ca0a5bd5.js";class k{constructor(t){this.id=-1,this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,self.Touch&&t instanceof Touch?this.id=t.identifier:N(t)&&(this.id=t.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map(e=>new k(e));if(t.length>0)return t}return[this]}}const N=n=>"pointerId"in n,G=n=>"changedTouches"in n,ie=()=>{};class fe{constructor(t,{start:e=()=>!0,move:i=ie,end:r=ie,rawUpdates:c=!1,avoidPointerEvents:d=!1,eventListenerOptions:l={capture:!1,passive:!1,once:!1}}={}){this._element=t,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=s=>{if(N(s)&&s.buttons===0)this._excludeFromButtonsCheck.add(s.pointerId);else if(!(s.buttons&1))return;const o=new k(s);this.currentPointers.some(u=>u.id===o.id)||this._triggerPointerStart(o,s)&&(N(s)?((s.target&&"setPointerCapture"in s.target?s.target:this._element).setPointerCapture(s.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move,this._eventListenerOptions),this._element.addEventListener("pointerup",this._pointerEnd,this._eventListenerOptions),this._element.addEventListener("pointercancel",this._pointerEnd,this._eventListenerOptions)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=s=>{for(const o of Array.from(s.changedTouches))this._triggerPointerStart(new k(o),s)},this._move=s=>{if(!G(s)&&(!N(s)||!this._excludeFromButtonsCheck.has(s.pointerId))&&s.buttons===0){this._pointerEnd(s);return}const o=this.currentPointers.slice(),u=G(s)?Array.from(s.changedTouches).map(p=>new k(p)):[new k(s)],g=[];for(const p of u){const _=this.currentPointers.findIndex(E=>E.id===p.id);_!==-1&&(g.push(p),this.currentPointers[_]=p)}g.length!==0&&this._moveCallback(o,g,s)},this._triggerPointerEnd=(s,o)=>{if(!G(o)&&o.buttons&1)return!1;const u=this.currentPointers.findIndex(p=>p.id===s.id);if(u===-1)return!1;this.currentPointers.splice(u,1),this.startPointers.splice(u,1),this._excludeFromButtonsCheck.delete(s.id);const g=!(o.type==="mouseup"||o.type==="touchend"||o.type==="pointerup");return this._endCallback(s,o,g),!0},this._pointerEnd=s=>{if(this._triggerPointerEnd(new k(s),s))if(N(s)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=s=>{for(const o of Array.from(s.changedTouches))this._triggerPointerEnd(new k(o),s)},this._startCallback=e,this._moveCallback=i,this._endCallback=r,this._rawUpdates=c&&"onpointerrawupdate"in window,this._eventListenerOptions=l,self.PointerEvent&&!d?this._element.addEventListener("pointerdown",this._pointerStart,this._eventListenerOptions):(this._element.addEventListener("mousedown",this._pointerStart,this._eventListenerOptions),this._element.addEventListener("touchstart",this._touchStart,this._eventListenerOptions),this._element.addEventListener("touchmove",this._move,this._eventListenerOptions),this._element.addEventListener("touchend",this._touchEnd,this._eventListenerOptions),this._element.addEventListener("touchcancel",this._touchEnd,this._eventListenerOptions))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(t,e){return this._startCallback(t,e)?(this.currentPointers.push(t),this.startPointers.push(t),!0):!1}}function X(n,{Resizer:t=ge,show:e=!0,scale:i=1}={}){const r=n.style.position;r!=="relative"&&r!=="absolute"&&(n.style.position="relative");let c=new t({target:n,props:{trigger:l=>d(l),show:e}});function d(l){let s,o,u,g,p=new fe(l,{avoidPointerEvents:!0,start:(_,E)=>p.currentPointers.length===1?!1:(E.preventDefault(),E.stopPropagation(),s=(s||getComputedStyle(l.parentNode).width.replace("px","")||0)*1,o=(o||getComputedStyle(l.parentNode).height.replace("px","")||0)*1,!0),move:(_,E,z)=>{z.preventDefault(),z.stopPropagation(),u=(p.currentPointers[0].pageX-_[0].pageX)/i,g=(p.currentPointers[0].pageY-_[0].pageY)/i,s=s+u,o=o+g,l.parentNode.dispatchEvent(new CustomEvent("resized",{detail:{width:s,height:o}})),l.parentNode.style.width=s+"px",l.parentNode.style.height=o+1+"px"},end:(_,E,z)=>{}});return p}return{update(l){console.log("resizable update",l),{show:e=e,scale:i=i}=l,c.$set({show:e})},destroy(){c.$destroy()}}}function ne(n){let t;return{c(){t=w("div"),this.h()},l(e){t=b(e,"DIV",{class:!0}),P(t).forEach(h),this.h()},h(){m(t,"class","resizer svelte-1t9xl1x")},m(e,i){L(e,t,i),n[3](t)},p:S,d(e){e&&h(t),n[3](null)}}}function me(n){let t,e=n[1]&&ne(n);return{c(){e&&e.c(),t=Y()},l(i){e&&e.l(i),t=Y()},m(i,r){e&&e.m(i,r),L(i,t,r)},p(i,[r]){i[1]?e?e.p(i,r):(e=ne(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:S,o:S,d(i){e&&e.d(i),i&&h(t)}}}function ve(n,t,e){let{handle:i}=t,{trigger:r}=t,{show:c=!0}=t,d;le(()=>{d.stop()});function l(s){Q[s?"unshift":"push"](()=>{i=s,e(0,i)})}return n.$$set=s=>{"handle"in s&&e(0,i=s.handle),"trigger"in s&&e(2,r=s.trigger),"show"in s&&e(1,c=s.show)},n.$$.update=()=>{n.$$.dirty&5&&i&&(d=r(i))},[i,c,r,l]}class ge extends H{constructor(t){super(),J(this,t,ve,me,K,{handle:0,trigger:2,show:1})}}function re(n){let t;return{c(){t=w("div"),this.h()},l(e){t=b(e,"DIV",{class:!0}),P(t).forEach(h),this.h()},h(){m(t,"class","resizer svelte-umm0vo")},m(e,i){L(e,t,i),n[3](t)},p:S,d(e){e&&h(t),n[3](null)}}}function Ee(n){let t,e=n[1]&&re(n);return{c(){e&&e.c(),t=Y()},l(i){e&&e.l(i),t=Y()},m(i,r){e&&e.m(i,r),L(i,t,r)},p(i,[r]){i[1]?e?e.p(i,r):(e=re(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:S,o:S,d(i){e&&e.d(i),i&&h(t)}}}function we(n,t,e){let{handle:i}=t,{trigger:r}=t,{show:c=!0}=t,d;le(()=>{d.stop()});function l(s){Q[s?"unshift":"push"](()=>{i=s,e(0,i)})}return n.$$set=s=>{"handle"in s&&e(0,i=s.handle),"trigger"in s&&e(2,r=s.trigger),"show"in s&&e(1,c=s.show)},n.$$.update=()=>{n.$$.dirty&5&&i&&(d=r(i))},[i,c,r,l]}class oe extends H{constructor(t){super(),J(this,t,we,Ee,K,{handle:0,trigger:2,show:1})}}function be(n){let t,e,i,r,c,d,l,s,o,u,g,p,_,E,z,I,B,U,y,F,R,A,q,j;return{c(){t=w("script"),i=x(),r=w("a"),c=D("https://github.com/DougAnderson444/svelte-resizable"),d=x(),l=w("input"),s=x(),o=w("div"),u=w("div"),g=D("Small"),p=x(),_=w("div"),E=D("Med"),z=x(),I=w("div"),B=D("Large"),U=x(),y=w("div"),F=D("Custom ðŸ’© scale: "),R=D(n[1]),this.h()},l(a){const v=he("svelte-dxrrbz",document.head);t=b(v,"SCRIPT",{src:!0});var ae=P(t);ae.forEach(h),v.forEach(h),i=T(a),r=b(a,"A",{href:!0});var W=P(r);c=O(W,"https://github.com/DougAnderson444/svelte-resizable"),W.forEach(h),d=T(a),l=b(a,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),s=T(a),o=b(a,"DIV",{class:!0});var C=P(o);u=b(C,"DIV",{class:!0});var Z=P(u);g=O(Z,"Small"),Z.forEach(h),p=T(C),_=b(C,"DIV",{class:!0});var $=P(_);E=O($,"Med"),$.forEach(h),z=T(C),I=b(C,"DIV",{class:!0});var ee=P(I);B=O(ee,"Large"),ee.forEach(h),U=T(C),y=b(C,"DIV",{class:!0});var M=P(y);F=O(M,"Custom ðŸ’© scale: "),R=O(M,n[1]),M.forEach(h),C.forEach(h),this.h()},h(){ue(t.src,e="https://cdn.tailwindcss.com")||m(t,"src",e),m(r,"href","https://github.com/DougAnderson444/svelte-resizable"),m(l,"type","range"),m(l,"min","0.2"),m(l,"max","1"),m(l,"step","0.1"),m(l,"class","w-full"),m(u,"class","basis-auto w-1/3 h-1/3 bg-green-100 m-2 p-2"),m(_,"class","basis-auto w-1/4 h-1/3 bg-purple-100 m-2 p-2 text-xl"),m(I,"class","basis-auto w-1/4 h-1/3 bg-blue-100 m-2 p-2 text-3xl"),m(y,"class","basis-auto w-1/2 h-1/4 bg-amber-800 m-2 p-2 text-4xl"),m(o,"class","flex flex-wrap content-start bg-red-100 p-2 h-screen ")},m(a,v){f(document.head,t),L(a,i,v),L(a,r,v),f(r,c),L(a,d,v),L(a,l,v),te(l,n[1]),L(a,s,v),L(a,o,v),f(o,u),f(u,g),f(o,p),f(o,_),f(_,E),f(o,z),f(o,I),f(I,B),f(o,U),f(o,y),f(y,F),f(y,R),n[3](o),q||(j=[se(l,"change",n[2]),se(l,"input",n[2]),V(X.call(null,u)),V(X.call(null,_)),V(X.call(null,I)),V(A=X.call(null,y,{Resizer:oe,show:!0,scale:n[1]}))],q=!0)},p(a,[v]){v&2&&te(l,a[1]),v&2&&ce(R,a[1]),A&&de(A.update)&&v&2&&A.update.call(null,{Resizer:oe,show:!0,scale:a[1]})},i:S,o:S,d(a){h(t),a&&h(i),a&&h(r),a&&h(d),a&&h(l),a&&h(s),a&&h(o),n[3](null),q=!1,pe(j)}}}function Le(n,t,e){let i,r=1;function c(){r=_e(this.value),e(1,r)}function d(l){Q[l?"unshift":"push"](()=>{i=l,e(0,i),e(1,r)})}return n.$$.update=()=>{n.$$.dirty&3&&i&&r&&e(0,i.style.scale=r,i)},[i,r,c,d]}class ye extends H{constructor(t){super(),J(this,t,Le,be,K,{})}}export{ye as default};
